<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC   "-//mybatis.org//DTD Mapper 3.0//EN"
   "http://mybatis.org/dtd/mybatis-3-mapper.dtd"
>
<!-- xml 을 java 에서 쓰기 위해 연결되는 interface 가 필요 하다. -->

<!-- 쿼리문을 작성해둔 interface 주소 -->
<mapper namespace="com.pet.admin.dao.ReportDAO">
   
   <!-- 아작스는 * 쓰면 안됨 -->
		<select id="repList" parameterType="HashMap" resultType="com.pet.admin.dto.ReportDTO">
		SELECT reportNum, userID, categoryCode, reportName, reportDetail, reportDate, reportBlind, reportIdenNum,repProcess
		FROM report ORDER BY reportNum DESC 
		LIMIT #{param2} OFFSET ${param3} 
		</select>
		
		<select id="repCategoryCodeList" parameterType="HashMap" resultType="com.pet.admin.dto.ReportDTO">
		SELECT reportNum, userID, categoryCode, reportName, reportDetail, reportDate, reportBlind, reportIdenNum,repProcess 
		FROM report WHERE categoryCode = #{param2} ORDER BY reportNum DESC 
		LIMIT #{param3} OFFSET ${param4}
		</select>
		
		<select id="repListByProcess" parameterType="HashMap" resultType="com.pet.admin.dto.ReportDTO">
		SELECT reportNum, userID, categoryCode, reportName, reportDetail, reportDate, reportBlind, reportIdenNum,repProcess 
		FROM report WHERE repProcess = #{param2} ORDER BY reportNum DESC 
		LIMIT #{param3} OFFSET ${param4}
		</select>
		
   		<select id="repAllList" parameterType="HashMap" resultType="com.pet.admin.dto.ReportDTO">
		SELECT reportNum, userID, categoryCode, reportName, reportDetail, reportDate, reportBlind, reportIdenNum,repProcess 
		FROM report WHERE categoryCode = #{param2} AND repProcess = #{param3} ORDER BY reportNum DESC 
		LIMIT #{param4} OFFSET ${param5}
		</select>
   		
   		
   		
   		
   		<select id="repTotalCountList" parameterType="HashMap" resultType="java.lang.Integer">
		SELECT COUNT(reportNum) FROM report 
		</select>	
		
		<select id="repTotalCategoryCountCode" parameterType="HashMap" resultType="java.lang.Integer">
		SELECT COUNT(reportNum) FROM report WHERE categoryCode = #{param2}
		</select>	
		
		<select id="repTotalCountListByProcess" parameterType="HashMap" resultType="java.lang.Integer">
		SELECT COUNT(reportNum) FROM report WHERE repProcess = #{param2}
		</select>	
		
		<select id="repTotalCategoryAll" parameterType="HashMap" resultType="java.lang.Integer">
		SELECT COUNT(reportNum) FROM report WHERE categoryCode = #{param2} AND repProcess = #{param3}
		</select>
		

		
		
		<select id="repDetail"  resultType="com.pet.admin.dto.ReportDTO">
		SELECT* FROM report WHERE reportNum = #{param1}
		</select>
		
		<select id="repreplist" resultType="com.pet.admin.dto.InquiryDTO">
   			SELECT * FROM reply WHERE boardNum = #{param1} AND replyNum = #{param2} AND commentDetail = #{param3} ORDER BY boardNum DESC
   		</select>
   		
   		<select id="repreplist2" resultType="com.pet.admin.dto.InquiryDTO">
   			SELECT * FROM reply WHERE boardNum = #{boardNum} ORDER BY boardNum DESC
   		</select>
		
		
		
		
		
		
		
		
		
</mapper>